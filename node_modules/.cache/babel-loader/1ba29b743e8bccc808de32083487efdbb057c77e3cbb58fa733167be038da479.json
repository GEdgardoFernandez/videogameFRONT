{"ast":null,"code":"import style from'./GamesCards.module.css';import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import CardGame from'../CardGame/CardGame';import Pagination from'../Pagination/Pagination';import{getAllGames}from'../../Redux/Actions';import Loading from'../Loading/Loading';import SearchBar from'../SearchBar/SearchBar';import OrderGenre from'../OrderGenre/OrderGenre.jsx';import notImage from'../../assets/Img/notImage.jpg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function GamesCards(){const dispatch=useDispatch();const Allgames=useSelector(state=>state.filteredGames);console.log(Allgames);useEffect(()=>{dispatch(getAllGames());},[dispatch]);const[currentPage,setCurrentPage]=useState(1);const gamesPerPage=15;const indexOfLastGame=currentPage*gamesPerPage;const indexOfFirstGame=indexOfLastGame-gamesPerPage;const games=Allgames.slice(indexOfFirstGame,indexOfLastGame);console.log(games);// Cambia de página\nconst paginate=pageNumber=>setCurrentPage(pageNumber);if(games.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Loading,{})});}return/*#__PURE__*/_jsxs(\"div\",{className:style.containerCards,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.containerSearch,children:[/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(OrderGenre,{})]}),games===null||games===void 0?void 0:games.map(g=>{var _g$genres;return/*#__PURE__*/_jsx(CardGame,{id:g.id,name:g.name,image:g.image?g.image:notImage,rating:g.rating,genre:(_g$genres=g.genres)===null||_g$genres===void 0?void 0:_g$genres.join(', ')});}),/*#__PURE__*/_jsx(\"div\",{className:style.pagination,children:/*#__PURE__*/_jsx(Pagination,{gamesPerPage:gamesPerPage,totalGames:Allgames.length,paginate:paginate,currentPage:currentPage})})]});}","map":{"version":3,"names":["style","useEffect","useState","useDispatch","useSelector","CardGame","Pagination","getAllGames","Loading","SearchBar","OrderGenre","notImage","jsx","_jsx","jsxs","_jsxs","GamesCards","dispatch","Allgames","state","filteredGames","console","log","currentPage","setCurrentPage","gamesPerPage","indexOfLastGame","indexOfFirstGame","games","slice","paginate","pageNumber","length","children","className","containerCards","containerSearch","map","g","_g$genres","id","name","image","rating","genre","genres","join","pagination","totalGames"],"sources":["C:/Users/bff08/Desktop/PI-Videogames-main/client/src/components/GamesCards/GamesCards.jsx"],"sourcesContent":["import style from './GamesCards.module.css';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CardGame from '../CardGame/CardGame';\nimport Pagination from '../Pagination/Pagination';\nimport { getAllGames } from '../../Redux/Actions';\nimport Loading from '../Loading/Loading';\nimport SearchBar from '../SearchBar/SearchBar';\nimport OrderGenre from '../OrderGenre/OrderGenre.jsx';\nimport notImage from '../../assets/Img/notImage.jpg';\n\nexport default function GamesCards() {\n  const dispatch = useDispatch();\n  const Allgames = useSelector(state => state.filteredGames);\n  console.log(Allgames)\n  useEffect(() => {\n    dispatch(getAllGames());\n  }, [dispatch]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const gamesPerPage = 15;\n  const indexOfLastGame = currentPage * gamesPerPage;\n  const indexOfFirstGame = indexOfLastGame - gamesPerPage;\n  const games = Allgames.slice(indexOfFirstGame, indexOfLastGame);\n  console.log(games)\n  // Cambia de página\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  if (games.length === 0) {\n\n    return <div>\n      <Loading />\n    </div>\n  }\n  return (\n\n    <div className={style.containerCards}>\n      <div className={style.containerSearch}>\n        <SearchBar />\n        <OrderGenre />\n      </div>\n      {/* Verificar si la lista de juegos está definida antes de mapearla */}\n      {games?.map(g => (\n        <CardGame\n          id={g.id}\n          name={g.name}\n          image={g.image ? g.image : notImage}\n          rating={g.rating}\n          genre={g.genres?.join(', ')}\n        />\n      ))}\n      <div className={style.pagination}>\n        <Pagination\n          gamesPerPage={gamesPerPage}\n          totalGames={Allgames.length}\n          paginate={paginate}\n          currentPage={currentPage}\n        />\n      </div>\n    </div>\n\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,yBAAyB,CAC3C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAASC,WAAW,KAAQ,qBAAqB,CACjD,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,MAAO,CAAAC,QAAQ,KAAM,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAACe,KAAK,EAAIA,KAAK,CAACC,aAAa,CAAC,CAC1DC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CACrBjB,SAAS,CAAC,IAAM,CACdgB,QAAQ,CAACV,WAAW,CAAC,CAAC,CAAC,CACzB,CAAC,CAAE,CAACU,QAAQ,CAAC,CAAC,CACd,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAuB,YAAY,CAAG,EAAE,CACvB,KAAM,CAAAC,eAAe,CAAGH,WAAW,CAAGE,YAAY,CAClD,KAAM,CAAAE,gBAAgB,CAAGD,eAAe,CAAGD,YAAY,CACvD,KAAM,CAAAG,KAAK,CAAGV,QAAQ,CAACW,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAC/DL,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAClB;AACA,KAAM,CAAAE,QAAQ,CAAGC,UAAU,EAAIP,cAAc,CAACO,UAAU,CAAC,CAEzD,GAAIH,KAAK,CAACI,MAAM,GAAK,CAAC,CAAE,CAEtB,mBAAOnB,IAAA,QAAAoB,QAAA,cACLpB,IAAA,CAACL,OAAO,GAAE,CAAC,CACR,CAAC,CACR,CACA,mBAEEO,KAAA,QAAKmB,SAAS,CAAElC,KAAK,CAACmC,cAAe,CAAAF,QAAA,eACnClB,KAAA,QAAKmB,SAAS,CAAElC,KAAK,CAACoC,eAAgB,CAAAH,QAAA,eACpCpB,IAAA,CAACJ,SAAS,GAAE,CAAC,cACbI,IAAA,CAACH,UAAU,GAAE,CAAC,EACX,CAAC,CAELkB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAES,GAAG,CAACC,CAAC,OAAAC,SAAA,oBACX1B,IAAA,CAACR,QAAQ,EACPmC,EAAE,CAAEF,CAAC,CAACE,EAAG,CACTC,IAAI,CAAEH,CAAC,CAACG,IAAK,CACbC,KAAK,CAAEJ,CAAC,CAACI,KAAK,CAAGJ,CAAC,CAACI,KAAK,CAAG/B,QAAS,CACpCgC,MAAM,CAAEL,CAAC,CAACK,MAAO,CACjBC,KAAK,EAAAL,SAAA,CAAED,CAAC,CAACO,MAAM,UAAAN,SAAA,iBAARA,SAAA,CAAUO,IAAI,CAAC,IAAI,CAAE,CAC7B,CAAC,EACH,CAAC,cACFjC,IAAA,QAAKqB,SAAS,CAAElC,KAAK,CAAC+C,UAAW,CAAAd,QAAA,cAC/BpB,IAAA,CAACP,UAAU,EACTmB,YAAY,CAAEA,YAAa,CAC3BuB,UAAU,CAAE9B,QAAQ,CAACc,MAAO,CAC5BF,QAAQ,CAAEA,QAAS,CACnBP,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,EACH,CAAC,CAGV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}