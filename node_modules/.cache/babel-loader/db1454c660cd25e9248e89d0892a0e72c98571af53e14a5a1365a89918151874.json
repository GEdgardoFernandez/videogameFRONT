{"ast":null,"code":"import { GET_ALL_GAMES, GET_GAME_ID, GET_GAME_NAME, CREATE_GAME, GET_GENRES, ORDER_BY_NAME, ORDER_BY_GENRES, ORDER_BY_RATING, ORDER_BY_SOURCE } from './Actions';\nconst inicialSate = {\n  allVideoGames: [],\n  videogames: [],\n  videogame: [],\n  genres: [],\n  platforms: []\n};\nfunction rootReducer(state = inicialSate, action) {\n  switch (action.type) {\n    case GET_ALL_GAMES:\n      let platforms = [];\n      try {\n        action.payload.map(g => platforms = [...platforms, ...g.platforms]);\n        return {\n          ...state,\n          allVideoGames: [...state.allVideoGames, ...action.payload],\n          videogames: [...state.videogames, ...action.payload],\n          platforms: Array.from(new Set(platforms))\n        };\n      } catch (error) {\n        console.log(error);\n      }\n      break;\n    case GET_GAME_ID:\n      return {\n        ...state,\n        //copia estado importante no olvidar\n        videogame: action.payload\n      };\n      break;\n    case GET_GAME_NAME:\n      return {\n        ...state,\n        allVideoGames: action.payload\n      };\n      break;\n    case CREATE_GAME:\n      return {};\n      break;\n    case GET_GENRES:\n      return {\n        ...state,\n        genres: action.payload\n      };\n      break;\n    case ORDER_BY_NAME:\n      const orderingName = action.payload === 'A-Z' ? state.videogames.sort((a, b) => {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        if (b.name.toLowerCase() > a.name.toLowerCase()) return -1;\n        return 0;\n      }) : state.videogames.sort((a, b) => {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return -1;\n        if (b.name.toLowerCase() > a.name.toLowerCase()) return 1;\n        return 0;\n      });\n      return {\n        ...state,\n        videogames: orderingName\n      };\n      break;\n    case ORDER_BY_GENRES:\n      return {};\n      break;\n    case ORDER_BY_RATING:\n      const orderingRating = action.payload === 'High to Low' ? state.videogames.sort((a, b) => Number(b.rating) - Number(a.rating)) : state.videogames.sort((a, b) => Number(a.rating) - Number(b.rating));\n      return {\n        ...state,\n        videogames: orderingRating\n      };\n    case ORDER_BY_SOURCE:\n      const getVideoGames = state.allVideoGames;\n      const filterVG = action.payload === 'DB' ? getVideoGames.filter(g => g.createdInDB) : getVideoGames.filter(e => !e.createdInDB);\n      return {\n        ...state,\n        videogames: action.payload === 'All games' ? getVideoGames : filterVG\n      };\n    default:\n      return state;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["GET_ALL_GAMES","GET_GAME_ID","GET_GAME_NAME","CREATE_GAME","GET_GENRES","ORDER_BY_NAME","ORDER_BY_GENRES","ORDER_BY_RATING","ORDER_BY_SOURCE","inicialSate","allVideoGames","videogames","videogame","genres","platforms","rootReducer","state","action","type","payload","map","g","Array","from","Set","error","console","log","orderingName","sort","a","b","name","toLowerCase","orderingRating","Number","rating","getVideoGames","filterVG","filter","createdInDB","e"],"sources":["C:/Users/bff08/Desktop/PI-Videogames-main/client/src/Redux/Reducer.js"],"sourcesContent":["import {\r\n  GET_ALL_GAMES,\r\n  GET_GAME_ID,\r\n  GET_GAME_NAME,\r\n  CREATE_GAME,\r\n  GET_GENRES,\r\n  ORDER_BY_NAME,\r\n  ORDER_BY_GENRES,\r\n  ORDER_BY_RATING,\r\n  ORDER_BY_SOURCE\r\n} from './Actions';\r\n\r\nconst inicialSate = {\r\n  allVideoGames: [],\r\n  videogames: [],\r\n  videogame: [],\r\n  genres: [],\r\n  platforms: [],\r\n}\r\n\r\nfunction rootReducer(state = inicialSate, action){\r\n\r\n  switch (action.type) {\r\n    case GET_ALL_GAMES:\r\n      let platforms = [];\r\n      try {\r\n        action.payload.map(g => platforms = [...platforms, ...g.platforms]);\r\n        return {\r\n          ...state,\r\n          allVideoGames: [...state.allVideoGames, ...action.payload],\r\n          videogames: [...state.videogames, ...action.payload],\r\n          platforms: Array.from(new Set(platforms))\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n\r\n      break;\r\n      case GET_GAME_ID:\r\n        return{\r\n          ...state,//copia estado importante no olvidar\r\n          videogame: action.payload\r\n        }\r\n        break;\r\n        case GET_GAME_NAME:\r\n        return{\r\n          ...state,\r\n          allVideoGames: action.payload\r\n        }\r\n        break;\r\n        case CREATE_GAME:\r\n        return{\r\n          \r\n        }\r\n        break;\r\n        case GET_GENRES:\r\n        return{\r\n          ...state,\r\n          genres: action.payload\r\n        }\r\n        break;\r\n        case ORDER_BY_NAME:\r\n          const orderingName = action.payload === 'A-Z' ?\r\n          state.videogames.sort((a,b) => {\r\n            if(a.name.toLowerCase() > b.name.toLowerCase()) return 1;\r\n            \r\n            if(b.name.toLowerCase() > a.name.toLowerCase()) return -1\r\n            return 0\r\n          })\r\n          :\r\n          state.videogames.sort((a, b) => {\r\n            if(a.name.toLowerCase() > b.name.toLowerCase()) return -1\r\n            if(b.name.toLowerCase() > a.name.toLowerCase()) return 1\r\n            return 0\r\n          })\r\n          return {\r\n            ...state,\r\n            videogames: orderingName,\r\n          }\r\n          break;\r\n\r\n        case ORDER_BY_GENRES:\r\n        return{\r\n          \r\n        }\r\n        break;\r\n        case ORDER_BY_RATING:\r\n          const orderingRating = action.payload === 'High to Low' ?\r\n          state.videogames.sort((a, b) => Number(b.rating) - Number(a.rating))\r\n          :\r\n          state.videogames.sort((a, b) => Number(a.rating) - Number(b.rating))\r\n          return{\r\n            ...state,\r\n            videogames: orderingRating\r\n          }\r\n        \r\n\r\n        case ORDER_BY_SOURCE:\r\n          const getVideoGames = state.allVideoGames\r\n          const filterVG = action.payload === 'DB' ? getVideoGames.filter(g => g.createdInDB)\r\n          : getVideoGames.filter(e => !e.createdInDB)\r\n        return{\r\n          ...state,\r\n          videogames: action.payload === 'All games' ? getVideoGames : filterVG\r\n        }\r\n  \r\n    default: return state\r\n  }\r\n}\r\n\r\nexport default rootReducer"],"mappings":"AAAA,SACEA,aAAa,EACbC,WAAW,EACXC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,eAAe,EACfC,eAAe,QACV,WAAW;AAElB,MAAMC,WAAW,GAAG;EAClBC,aAAa,EAAE,EAAE;EACjBC,UAAU,EAAE,EAAE;EACdC,SAAS,EAAE,EAAE;EACbC,MAAM,EAAE,EAAE;EACVC,SAAS,EAAE;AACb,CAAC;AAED,SAASC,WAAWA,CAACC,KAAK,GAAGP,WAAW,EAAEQ,MAAM,EAAC;EAE/C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKlB,aAAa;MAChB,IAAIc,SAAS,GAAG,EAAE;MAClB,IAAI;QACFG,MAAM,CAACE,OAAO,CAACC,GAAG,CAACC,CAAC,IAAIP,SAAS,GAAG,CAAC,GAAGA,SAAS,EAAE,GAAGO,CAAC,CAACP,SAAS,CAAC,CAAC;QACnE,OAAO;UACL,GAAGE,KAAK;UACRN,aAAa,EAAE,CAAC,GAAGM,KAAK,CAACN,aAAa,EAAE,GAAGO,MAAM,CAACE,OAAO,CAAC;UAC1DR,UAAU,EAAE,CAAC,GAAGK,KAAK,CAACL,UAAU,EAAE,GAAGM,MAAM,CAACE,OAAO,CAAC;UACpDL,SAAS,EAAEQ,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAACV,SAAS,CAAC;QAC1C,CAAC;MACH,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;MAEA;IACA,KAAKxB,WAAW;MACd,OAAM;QACJ,GAAGe,KAAK;QAAC;QACTJ,SAAS,EAAEK,MAAM,CAACE;MACpB,CAAC;MACD;IACA,KAAKjB,aAAa;MAClB,OAAM;QACJ,GAAGc,KAAK;QACRN,aAAa,EAAEO,MAAM,CAACE;MACxB,CAAC;MACD;IACA,KAAKhB,WAAW;MAChB,OAAM,CAEN,CAAC;MACD;IACA,KAAKC,UAAU;MACf,OAAM;QACJ,GAAGY,KAAK;QACRH,MAAM,EAAEI,MAAM,CAACE;MACjB,CAAC;MACD;IACA,KAAKd,aAAa;MAChB,MAAMuB,YAAY,GAAGX,MAAM,CAACE,OAAO,KAAK,KAAK,GAC7CH,KAAK,CAACL,UAAU,CAACkB,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAK;QAC7B,IAAGD,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGF,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC;QAExD,IAAGF,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGH,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACzD,OAAO,CAAC;MACV,CAAC,CAAC,GAEFjB,KAAK,CAACL,UAAU,CAACkB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAC9B,IAAGD,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGF,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACzD,IAAGF,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGH,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC;QACxD,OAAO,CAAC;MACV,CAAC,CAAC;MACF,OAAO;QACL,GAAGjB,KAAK;QACRL,UAAU,EAAEiB;MACd,CAAC;MACD;IAEF,KAAKtB,eAAe;MACpB,OAAM,CAEN,CAAC;MACD;IACA,KAAKC,eAAe;MAClB,MAAM2B,cAAc,GAAGjB,MAAM,CAACE,OAAO,KAAK,aAAa,GACvDH,KAAK,CAACL,UAAU,CAACkB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKI,MAAM,CAACJ,CAAC,CAACK,MAAM,CAAC,GAAGD,MAAM,CAACL,CAAC,CAACM,MAAM,CAAC,CAAC,GAEpEpB,KAAK,CAACL,UAAU,CAACkB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKI,MAAM,CAACL,CAAC,CAACM,MAAM,CAAC,GAAGD,MAAM,CAACJ,CAAC,CAACK,MAAM,CAAC,CAAC;MACpE,OAAM;QACJ,GAAGpB,KAAK;QACRL,UAAU,EAAEuB;MACd,CAAC;IAGH,KAAK1B,eAAe;MAClB,MAAM6B,aAAa,GAAGrB,KAAK,CAACN,aAAa;MACzC,MAAM4B,QAAQ,GAAGrB,MAAM,CAACE,OAAO,KAAK,IAAI,GAAGkB,aAAa,CAACE,MAAM,CAAClB,CAAC,IAAIA,CAAC,CAACmB,WAAW,CAAC,GACjFH,aAAa,CAACE,MAAM,CAACE,CAAC,IAAI,CAACA,CAAC,CAACD,WAAW,CAAC;MAC7C,OAAM;QACJ,GAAGxB,KAAK;QACRL,UAAU,EAAEM,MAAM,CAACE,OAAO,KAAK,WAAW,GAAGkB,aAAa,GAAGC;MAC/D,CAAC;IAEL;MAAS,OAAOtB,KAAK;EACvB;AACF;AAEA,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}